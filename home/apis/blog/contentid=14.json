{"status":"success","code":200,"data":{"id":14,"title":"Vue3+TypeScript学习之旅---联想壁纸库项目部署","desc":"本项目的是学习Vue3,和TypeScript,使用Vuex对数据进行管理，部分使用了TypeScript,主要是我对这还不太熟，刚接触感觉挺费事，要定义数据类型，不然就报错，所以我只在VueX使用了其语法,后端使用联想电脑管家壁纸中的接口","content":"### 项目演示\n\n网站演示：[https://bizhi.yunmobai.cn/](https://bizhi.yunmobai.cn/)\n\n网站源码：[https://gitee.com/baymaxsjj/by-vue-wallpaper](https://gitee.com/baymaxsjj/by-vue-wallpaper)\n\n网站后端：本项目后端接口来自于联想电脑管家->软件商店->壁纸。推荐下载[联想电脑管家](https://guanjia.lenovo.com.cn/)，本项目只用于个人学习。\n完成功能：首页轮播，分类，我的壁纸，壁纸展示，滚动加载，全屏展示，加入我的喜欢。\n完成进度：95%。基本实现与官方基本功能。\n对比展示：第一行本项目，第二行来自官方\n本项目是用来学习Vue3和TypeScript知识所编写的项目\n<table>\n  <tbody>\n   <tr>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201102125029504.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201102125058497.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n        <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201102125421508.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n    </tr>\n    <tr>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201102125227412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201102125254718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n        <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201102125344222.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n    </tr>\n    \n  </tbody>\n</table>\n\n###  项目介绍\nVue:3.0.0-0，Swiper: 6.3.1，TypeScript\": 3.9.3，VueX、VueRouter:4.0.0-0。\n本项目的是学习Vue3,和TypeScript,使用Vuex对数据进行管理，部分使用了TypeScript,主要是我对这还不太熟，刚接触感觉挺费事，要定义数据类型，不然就报错，所以我只在VueX使用了其语法\n### Swiper\nSwiper是一个非常好的滚动图插件，其中有各自样式的滚动图。这也是我第一次接触到，Vue现在已经出了3.0，而Swiper6也提供了Vue 的组件，所以本项目采用的是Swiper组件方式写的首页轮播图。详情 参考[swiper/vue](https://swiperjs.com/vue/)\nswiper/vue提供2 个组件SwiperSwiperSlide\n基本使用\n```js\n <swiper\n\tv-if=\"list.length>0\"\n\t\n\t  :watchSlidesProgress=\"true\"\n\t  slidesPerView=\"auto\"\n\t  :centeredSlides=\"true\"\n\t  :loop=\"true\"\n\t  :loopedSlides=\"5\"\n\t  :autoplay=\"true\"\n\t  navigation\n\t  :pagination=\"{ clickable: true }\"\n\t  @progress=\"progress\"\n\t  @setTransition=\"setTransition\"\n\t  class=\"iconfont\"\n\t>\n\t  <swiper-slide v-for=\"item of list\" :key=\"item.id\">\n\t    <router-link :to=\"'/class/'+item.targetContent\">\n\t      <img :src=\"item.imgUrl\" width=\"644\"/>\n\t    </router-link>\n\t  </swiper-slide>\n\t</swiper>\n```\n参数介绍：\n详情参考[swiper中文网](https://www.swiper.com.cn/api/)\n```js\n// \n:watchSlidesProgress=\"true\"\n//设置slider容器能够同时显示的slides数量\nslidesPerView=\"auto\"\n//居中显示\n:centeredSlides=\"true\"\n//循环显示\n:loop=\"true\"\n//在loop模式下使用slidesPerview:'auto'，还需使用该参数设置所要用到的loop个数(一般设置大于可视slide个数2个即可)。\n:loopedSlides=\"5\"\n//自动播放\n:autoplay=\"true\"\n//前进后退按钮\nnavigation\n//分页器导航\n:pagination=\"{ clickable: true }\"\n//回调函数，当Swiper的progress被改变时执行，对切换动画设置\n@progress=\"progress\"\n//回调函数，每当设置Swiper开始过渡动画时执行\n@setTransition=\"setTransition\"\n```\n事件：\n\n```js\n\n    progress(swiper,progress){\n    //遍历所有slides轮播图\n     \tfor (let i = 0; i < swiper.slides.length; i++) {\n     \t//获取到轮播\n        var slide = swiper.slides.eq(i);\n        var slideProgress = swiper.slides[i].progress;\n\t\t\t\tlet modify = 1;\n\t\t\t\tif (Math.abs(slideProgress) > 1) {\n\t\t\t\t\tmodify = (Math.abs(slideProgress) - 1) * 0.3 + 1;\n\t\t\t\t}\n\t\t\t\tlet translate = slideProgress * modify * 260 + 'px';\n\t\t\t\tlet scale = 1 - Math.abs(slideProgress) / 5;\n\t\t\t\tlet zIndex = 999 - Math.abs(Math.round(10 * slideProgress));\n\t\t\t\tslide.transform('translateX(' + translate + ') scale(' + scale + ')');\n\t\t\t\tslide.css('zIndex', zIndex);\n\t\t\t\tslide.css('opacity', 1);\n\t\t\t\tif (Math.abs(slideProgress) > 2) {\n\t\t\t\t\tslide.css('opacity', 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetTransition(swiper,transition) {\n\t\t\tfor (var i = 0; i < swiper.slides.length; i++) {\n\t\t\t\tvar slide = swiper.slides.eq(i)\n\t\t\t\tslide.transition(transition);\n\t\t\t}\n\t\t}\n```\n### 滚动加载\n\n```js\n  //  文档实际高度（包括不可见内容的高度）\n        let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n        //  文档可见内容的高度\n        let clientHeight = window.innerHeight || Math.min(document.documentElement.clientHeight, document.body.clientHeight)\n        //  文档内容顶部（垂直滚动时顶部的内容会被隐藏）到它的视口可见内容（实际可以看见的内容顶部）的距离\n        let scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n\n        // 判断垂直滚动条是否滚动到最底部： scrollHeight - scrollTop === clientHeight\n        if(this.list.count>(parseInt(this.list.skip)+parseInt(this.list.limit))){\n            if (scrollHeight - scrollTop <= clientHeight+150&&this.loading) {\n              // // 获取数据\n              this.loading=false\n              // console.log(this.list.skip)\n              let url=this.url.replace('skip=0','skip='+(parseInt(this.list.skip)+parseInt(this.list.limit)))\n              axios.get(`/apis/${url}`).then(res=>{\n                this.loading=true\n                this.$store.commit('addColumns',res.data.data)\n                // store.commit('setLove',index)\n              }).catch(e=>{\n                \n              })\n            }\n        }\n```\n### Bug\n其实这个Bug很怪，就是开发是没问题，然后编译之后，轮播图部分功能丢失，主要是前进后退消失，什么毛病，连样式都不一样，我服了，希望有大神指点指点\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20201102152341758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center)\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20201102152407442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center)","img":"https://p.pstatp.com/origin/138b000005afe34e64ca9","classty":"前端","channels":null,"name":"云墨白","click":9,"like":1,"is_show":1,"head_show":1,"share_show":1,"copyright_show":1,"message_show":1,"deleted_at":1,"created_at":"2020-11-02T07:34:41.000000Z","updated_at":"2020-12-16T11:39:06.000000Z","label":["Vue"],"view_count":1,"prevArticle":[{"id":13,"title":"Laravel个人博客后端开源部署"}],"nextrAticle":[{"id":15,"title":"TypeScript学习---联想壁纸库"}]}}