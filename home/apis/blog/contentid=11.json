{"status":"success","code":200,"data":{"id":11,"title":"Vue3实现多平台文章发布功能，数据保存本地，无后端！基于openwrite插件","desc":"自从博客写完之后就有些懒散，这不前几天想实现一个可以多端发布的功能，就是我在我的博客发布完文章后，可以同步到像Csdn,简书的类似的平台，于是就开始实现其功能，","content":"> [个人博客原文地址](https://www.yunmobai.cn/blog/11)\n## 前言\n自从博客写完之后就有些懒散，这不前几天想实现一个可以多端发布的功能，就是我在我的博客发布完文章后，可以同步到像Csdn,简书的类似的平台，于是就开始实现其功能，然后经过一段时间的思考，想了想，如果要多平台发布，要满足两个条件，一是要获取到保存在该平台登录的cookie,二是要知道该平台的一系列接口。这两个条件我的没想到解决办法，第一个就是同源策略，无法获取到其它平台的cookie,第二个就是要获取平台的接口也费事，而且还要跨域，虽然说可以反向代理吧！但是我嫌费事。于是我就开始从网上找了一下发现了一个多平台发布的文章，然后我激动的注册了账号，里面支持的平台真多，不过每个月就10次机会，有的功能还收费！于是我就开始了解实现原理！\n### 项目介绍\n如果你觉得有用的话，就给一个star吧,如果你不需要多端发布功能，也可以当一个本地的记事本！所有数据均保存在本地！本项目无后台！\n### 项目演示\n[项目代码](https://gitee.com/baymaxsjj/by-vue-more)\n[项目演示](http://more.yunmobai.cn/)\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201028214656933.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201028214726450.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n    </tr>\n     <tr>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/20201028214749805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n      <td align=\"center\" valign=\"middle\">\n          <img src=\"https://img-blog.csdnimg.cn/2020102821490893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center\" >\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n### 实现原理\n通过几次的使用openwrite，发现其实现原理就是我上面的两个条件，不过它有解决办法而已，那让我们来了解其原理。使用过的都知道，就是通过插件来实现跨域获取cookie,也通过插件完成文章发布一系列功能。这个插件就是对外的一个桥梁！还好他的插件是源码，没有编译，研究了一番，这个插件至暴露一个对外的沟通的方法，其它的都是对不同平台的请求头做一些设置。而我就是通过这个插件实现多平台发布功能！\n##### 使用该平台的风险\n使用这个平台还是有一些信息泄露的风险，为什么这么说呢！一是通过插件获取平台的cooke是保存在它服务器后台的，我就在想为什么不保存在本地！二是为了防止插件更新过快（插件安装还是费事的！），它的插件主要的代码也是通过给网站从后台获取的，其实也能理解因为要维护啊！防止插件更新频繁！但这也有风险，如果该网站被黑，并且知道网站基本实现原理！那么完全可以通过该插件获取用户浏览器中重要的信息的！包括cookie等重要信息！\n### 使用方法\n下载该平台的插件，更改manifest.json中配置，本地可以不要改，但是现在别的域名下使用还需更改！将给文件中所有的openwrite.cn改成自己的域名！如图\n\n![插件配置](https://img-blog.csdnimg.cn/20201028194633681.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center)\n然后就可以在浏览器中安装插件了！\n### 使用Vue3+Ant+Vuex完成本地功能，无需后端\n知道上面的实现原理，我花费了五天时间实现基本其功能！大部分时间花费了在了解与插件的一些方法，还有其通信的参数配置，我都要从它的网站一步步获取！还有一部分时间花费在新的ui框架，之前都使用的Element,为什么Ant主要它支持Vue3,我写着写在发现我还openwrite官网越来越像了，原来用的都是一个框架，openwrite官网有的功能基本都实现了！但我只测试了Csdn,因为我不想注册那么多的平台！就一两个就够费事的了！如果其它平台有问题，你可以把我的项目克隆下来，自己改改！项目运行数据均使用Vuex管理并保持到本地！放心使用！虽然使用了Vue3.0但并没使用新的语法。\n### 跟官网插件保持同步更新，防止部分平台失效！\n上面我也说过了！openwrite插件都是从官网获取，我们打开开发者工具找到Application->Local Storage将其中数字的放到我项目的public->config.txt中覆盖旧的代码，\n![获取代码](https://img-blog.csdnimg.cn/20201028200218277.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center)\n### 修改项目代码\n由于我只测试了Csdn,其它平台可能有问题，你只要把对于平台的修改就可以了！如果像添加其它平台的那就把其中demo.vue复制一下，完成该平台的配置，\n在config.txt 中添加几个方法，研究一下就知道了那几个方法了！\n![修改代码](https://img-blog.csdnimg.cn/20201028200626618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center)\n\n### 集成到自己的博客或项目\n本来像把这个项目搞错一个npm 插件的！不过没接触，也没时间研究了！如果你想集成到自己的项目中只有把其中的代码原封不动的搞到自己项目中，不过挺费事，最好还是用我这个项目本地运行吧！这是我博客后台的！这是我前期在我博客中写的！有些丑！后来我把它拿出来单独写了！就成了这个项目\n![集成到博客](https://img-blog.csdnimg.cn/20201029070242140.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTI5NDYwNw==,size_16,color_FFFFFF,t_70#pic_center)\n> 注：本项目是用于学习和掌握新知识而编写，不得用于商业用途！\n> 代码写的水平不太好！请谅解！自己学习的Vue才几个月，也没接触过真正的项目！代码逻辑都是自己想的！因为没有提前思考过，代码有些臃肿！如果你有好的建议，可以到我的博客留下留言 ，或者在我发布平台下评论！","img":"https://p.pstatp.com/origin/137a90001a0c86e73ad91","classty":"前端","channels":null,"name":"云墨白","click":1,"like":1,"is_show":1,"head_show":1,"share_show":1,"copyright_show":1,"message_show":1,"deleted_at":1,"created_at":"2020-10-28T12:40:08.000000Z","updated_at":"2020-12-16T11:53:51.000000Z","label":["Vue","Js"],"view_count":1,"prevArticle":[{"id":10,"title":"使用marked解析MARKDOWN,生成目录,运行代码示例"}],"nextrAticle":[{"id":12,"title":"Vue个人博客前端开源部署"}]}}